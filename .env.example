# NABERAL KIS Estimator Environment Configuration
# Copy this file to .env and update with your values

# Application
ENVIRONMENT=development  # development, staging, production
APP_DEBUG=true
APP_LOG_LEVEL=INFO  # TRACE, DEBUG, INFO, WARN, ERROR

# Database Configuration
# Primary database (PostgreSQL for production)
DATABASE_URL=postgresql://postgres:YOUR_PASSWORD_HERE@localhost:5432/kis_estimator
# Alternative: SQLite for development
# DATABASE_URL=sqlite:///./data/kis_estimator.db

# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
SUPABASE_JWT_SECRET=your_supabase_jwt_secret_here  # CRITICAL: Get from Supabase dashboard

# Security Configuration
JWT_AUD=authenticated
ALLOWED_ORIGINS=https://kis-estimator.com,https://app.kis-estimator.com
ALLOWED_HOSTS=kis-estimator.com,*.kis-estimator.com
SECRET_KEY=your-secret-key-here-change-in-production  # Generate with: openssl rand -hex 32
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440  # 24 hours

# Rate Limiting
REDIS_URL=redis://localhost:6379/0  # Use memory:// for development without Redis

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true  # Auto-reload in development
API_WORKERS=1  # Number of workers (production: 4+)

# DuckDB for analytics (optional)
DUCKDB_PATH=./data/analytics.duckdb

# File Storage
UPLOAD_DIR=./uploads
MAX_UPLOAD_SIZE_MB=100
ALLOWED_EXTENSIONS=["xlsx", "xls", "csv", "dxf", "dwg", "pdf"]

# Excel Processing
EXCEL_TEMPLATE_DIR=./templates/excel
EXCEL_OUTPUT_DIR=./output/excel
EXCEL_MAX_ROWS=1000000

# CAD/DXF Processing
DXF_IMPORT_DIR=./imports/dxf
DXF_EXPORT_DIR=./exports/dxf

# OR-Tools Configuration
ORTOOLS_TIMEOUT_SECONDS=30
ORTOOLS_NUM_WORKERS=4

# Monitoring & Observability
ENABLE_METRICS=false
METRICS_PORT=9090
ENABLE_TRACING=false
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Feature Flags
ENABLE_AI_ESTIMATOR=true
ENABLE_CRITIC_MODE=true
ENABLE_CACHE=true
CACHE_TTL_SECONDS=3600

# Testing
TEST_DATABASE_URL=sqlite:///./test_data/test.db
TEST_PARALLEL=true
TEST_COVERAGE_MIN=80